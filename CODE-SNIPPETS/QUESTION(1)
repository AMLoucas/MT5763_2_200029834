CODE USED TO ANSWER QUESTION 1 (Is there an effect of Luxuriant above and beyond the placebo?)
..............................................................................................
/* MT5763 */
/* Generated code for Indiviual Project 2 */

/* DROPPING ANY OLD TABLES */
%web_drop_table(WORK.BALDY);
%web_drop_table(WORK.LUXURIANT);
%web_open_table(WORK.PLACEBO);
%web_open_table(WORK.BALDBEGONE);
%web_open_table(WORK.SKINHEADNOMORE);

/* IMPORTING THE CSV FILE WITH NAME: BALDY */
FILENAME REFFILE '/folders/myfolders/sasuser.v94/Practical-Individual/Baldy.csv';

PROC IMPORT DATAFILE=REFFILE
	DBMS=CSV
	OUT=WORK.BALDY;
	GETNAMES=YES;
	GUESSINGROWS=MAX;
RUN;

PROC CONTENTS DATA=WORK.BALDY; 
RUN;
%web_open_table(WORK.BALDY);

/* FUNCTION THAT GETS 5 ARGUMENTS (data,column hair growht, column age, inches to mm formula, treatment used) */
/* Breaks the data table to smaller individual table concerning only 1 treatment. */
/* Sorts each individual table by age */
/* Data will be wrangled/tidy in here in correct format to apply statystical analysis on them */

%MACRO breakTables(dataName, columnHair, columnAge, toMMmeasure, group);

/* Creating individual table for each treatment */

DATA WORK.&columnHair;
SET WORK.&dataName;
KEEP &columnHair &columnAge;
/* Changin hair growth from inches to MM */
&columnHair = &columnHair * &toMMmeasure;
RUN;

/* Renaming the age column to simple Age, Measure of hair growth to HairGrowth */
/* Adding new column group that indicates for which treatments the data is (for mergeing tables later) */
DATA WORK.&columnHair;
SET WORK.&columnHair;
RENAME &columnAge = Age;
RENAME &columnHair = HairGrowth;
GROUP = &group;
RUN;

/* Sorting the data according to the age of patient */
PROC SORT DATA = WORK.&columnHair;
BY HairGrowth;
RUN;

%web_open_table(WORK.&columnHair);

%MEND;

%breakTables(BALDY, LUXURIANT, AgeLuxuriant, 25.4, "LUXURIANT")
%breakTables(BALDY, PLACEBO, AgePlacebo, 25.4, "PLACEBO")
%breakTables(BALDY, BALDBEGONE, AgeBaldBeGone, 25.4, "BALDBEGONE")
%breakTables(BALDY, SKINHEADNOMORE, AgeSkinheadnomore, 25.4, "SKINHEADNOMORE")

/* Merge tables all to one */
DATA WORK.cleanData;
MERGE WORK.LUXURIANT WORK.PLACEBO WORK.BALDBEGONE WORK.SKINHEADNOMORE;
BY HairGrowth;
RUN;

/* For Question -1 */
/* KEEPING ONLY DATA FOR PLACEBO AND LUXURIANT */
DATA WORK.QUESTION1;
SET WORK.cleanData;
KEEP HairGrowth GROUP;
/* KEEP ROWS THAT ARE TREATMENTS FROM LUXURIANT OF PLACEBO */
	WHERE GROUP="LUXURIANT" OR GROUP="PLACEBO";
RUN;

/* FIT A LINEAR MODEL USING THE GROUP AS FACTOR, TO SEE HOW GOOD A TREATMENT IS */
/* OUR P-VALUE WILL CHECK IF OUR TWO MEANS ARE EQUALL. IF NOT EQUAL, THA ONE WITH 
HIGHEST MEAN IS THE BST */


PROC GLM DATA = WORK.QUESTION1 outstat=ERRORS plots = all;
	  CLASS GROUP;
	  MODEL HairGrowth = GROUP;
RUN;
QUIT;
